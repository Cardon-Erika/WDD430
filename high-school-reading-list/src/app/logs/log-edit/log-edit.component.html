<div class="panel panel-default">
    <div class="panel-body">
  
      <form id="book-edit" (ngSubmit)="onSubmit(f)" #f="ngForm">
        <!-- <div class="row pb-3">
          <div class="col-sm-12 form-group">
            <label for="name">User Name:</label>
            <input
              type="text"
              id="name"
              class="form-control"
              size="120"
              name="name"
              ngModel="{{ log?.user }}"
              required
              #name="ngModel"
              max="120">
          </div>
        </div> -->

        <div class="row pb-3">
            <div class="col-sm-12 form-group">
              <label for="user">Name:</label>
              <select 
                class="form-select" 
                id="user"
                name="user"
                ngModel="{{ log?.user.id }}"
                required
                #user="ngModel">
                <!-- <option selected>-- Select Author --</option> -->
                <option *ngFor="let user of users" [value]="user.id">{{ user.name}}</option>
              </select>
            </div>
          </div>

          <div class="row pb-3">
            <div class="col-sm-12 form-group">
              <label for="book">Book:</label>
              <select 
                class="form-select" 
                id="book"
                name="book"
                ngModel="{{ log?.book.id }}"
                required
                #book="ngModel">
                <option >-- Select Author --</option>
                <!-- <option *ngFor="let book of books" [value]="book.id" [selected]="book.title === log ">{{ book.title}}</option> -->
                <option *ngFor="let book of books" [value]="book.id">{{ book.title}}</option>
              </select>
            </div>
          </div>


          <div class="row pb-3">
            <div class="col-sm-12 form-group">
              <label for="thoughts">Thoughts:</label>
              <textarea
                type="text"
                id="thoughts"
                class="form-control"
                size="120"
                rows="5"
                name="thoughts"
                ngModel="{{ log?.thoughts }}"
                required
                #thoughts="ngModel"
                max="120"></textarea>
            </div>
          </div>

          <div class="alert alert-danger" *ngIf="(!user.valid && user.touched && !book.valid && book.touched && !thoughts.valid && thoughts.touched)">The users name, the book read, and thoughts on the book are all required fields.</div> <!-- added validation for touched as well. -->
  
        <div class="row py-3">
          <div class="col-xs-12 btn-toolbar">
            <button class="btn btn-success me-1" type="submit" [disabled]="!f.valid">Save</button>
            <button class="btn btn-primary me-1" type="button" (click)="onCancel()">Cancel</button>
          </div>
        </div>
  
      </form>
  
    </div>
  </div>
  
  